<!DOCTYPE html>
<html style="margin: 0; height: 100%">
	<head>
		<meta charset="utf-8">
		<title>Crownix ReportingServer Invoker</title>
		<script src="../../js/invoker/crownix-invoker.min.js"></script>
		<script>
			window.onload = function(){
				//m2soft.crownix.Ajax.debug = true;
				m2soft.crownix.ReportingServerInvoker.debug = true;
				
				var invoker = new m2soft.crownix.ReportingServerInvoker('http://localhost:8080/ReportingServer/service');
				invoker.addParameter('opcode', '500');
				invoker.addParameter('mrd_path', 'sample.mrd');
				invoker.addParameter('mrd_param', '/rfn [sample.txt]');
				invoker.addParameter('export_type', 'pdf');
				invoker.addParameter('protocol', 'file');
				invoker.addParameter('attachment', 'true');
				// 파일 다운로드에 iframe 사용 여부(attachment값이 없을 때(false), 브라우저에서 pdf 파일이 표시되는 것을 막음)
				//invoker.useIframe(true);
				
				// export 중 에러 발생시 에러를 감지할 수 없음.
				// 에러 감지를 위해서는 invoker_download.html을 사용하여야 함.
				invoker.invoke();
				
			};
		</script>
	</head>
	<body style="margin: 0; height: 100%">
		<div id="response" style="position:absolute; width:100%; height:100%;">
		</div>
	</body>
</html>
